<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Oceanic Study Companion üåä</title>

<!-- Google Fonts -->
<link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@400;600&family=Pacifico&family=Playfair+Display:wght@700&display=swap" rel="stylesheet">

<!-- Font Awesome Icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

<style>
/* ================= GLOBAL RESET ================= */
* {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

/* ================= ROOT VARIABLES ================= */
:root {
  --morning-blue: #87CEEB;
  --afternoon-blue: #4D96FF;
  --evening-purple: #6A5ACD;
  --night-navy: #0A2463;
  --coral: #FF6B6B;
  --seafoam: #7FDBDA;
  --sand: #F4D35E;
  --glass: rgba(255, 255, 255, 0.15);
  --dark-glass: rgba(10, 36, 99, 0.7);
}

/* ================= BODY & SCROLL ================= */
html, body {
  height: 100%;
  overflow-x: hidden;
  font-family: 'Quicksand', sans-serif;
  background: #000;
  color: #fff;
}

/* ================= SEA BACKGROUND ================= */
#ocean-bg {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: -3;
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
  transition: all 2s ease-in-out;
  opacity: 1;
  
  /* Default beach gradient */
  background: linear-gradient(to bottom, #001220, #003459);
}

/* Sea waves overlay */
.sea-waves {
  position: fixed;
  bottom: 0;
  left: 0;
  width: 100%;
  height: 120px;
  z-index: -2;
  opacity: 0.6;
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1200 120' preserveAspectRatio='none'%3E%3Cpath d='M321.39,56.44c58-10.79,114.16-30.13,172-41.86,82.39-16.72,168.19-17.73,250.45-.39C823.78,31,906.67,72,985.66,92.83c70.05,18.48,146.53,26.09,214.34,3V0H0V27.35A600.21,600.21,0,0,0,321.39,56.44Z' fill='%23ffffff'/%3E%3C/svg%3E");
  background-size: 1200px 120px;
  animation: waves 12s linear infinite;
}

.sea-waves:nth-child(2) {
  bottom: 10px;
  opacity: 0.4;
  animation: waves 10s linear infinite reverse;
  background-size: 1100px 100px;
}

.sea-waves:nth-child(3) {
  bottom: 20px;
  opacity: 0.2;
  animation: waves 15s linear infinite;
  background-size: 1000px 80px;
}

/* Dark overlay for text readability */
.overlay {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(0, 20, 40, 0.4);
  z-index: -1;
}

/* ================= LANDING ================= */
#landing {
  height: 100vh;
  display: flex;
  justify-content: center;
  align-items: center;
  flex-direction: column;
  background: rgba(0, 30, 60, 0.6);
  backdrop-filter: blur(5px);
  position: relative;
  overflow: hidden;
}

#landing::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-image: radial-gradient(circle at 20% 30%, rgba(127, 219, 218, 0.1) 0%, transparent 50%),
                    radial-gradient(circle at 80% 70%, rgba(255, 107, 107, 0.1) 0%, transparent 50%);
  z-index: -1;
}

#heart {
  font-size: 120px;
  color: var(--seafoam);
  animation: pulse 2s infinite, float 6s ease-in-out infinite;
  cursor: pointer;
  text-align: center;
  transition: transform 0.3s ease;
  text-shadow: 0 0 30px rgba(127, 219, 218, 0.7);
  z-index: 2;
  position: relative;
}

#heart:hover {
  transform: scale(1.2);
  animation: pulse 0.8s infinite, float 6s ease-in-out infinite;
}

#heart span {
  display: block;
  font-size: 24px;
  margin-top: 20px;
  font-family: 'Pacifico', cursive;
  text-shadow: 0 0 10px rgba(0, 0, 0, 0.8);
  color: white;
}

.subtitle {
  margin-top: 30px;
  font-size: 18px;
  opacity: 0.9;
  text-align: center;
  max-width: 80%;
  color: white;
  background: var(--dark-glass);
  padding: 15px 25px;
  border-radius: 50px;
  backdrop-filter: blur(10px);
  border: 1px solid rgba(255, 255, 255, 0.1);
}

/* ================= DASHBOARD ================= */
#dashboard {
  display: none;
  min-height: 100vh;
  padding: 100px 20px 160px;
}

/* ================= HEADER ================= */
.header {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  padding: 20px;
  display: flex;
  justify-content: space-between;
  align-items: center;
  background: var(--dark-glass);
  backdrop-filter: blur(15px);
  z-index: 5;
  border-bottom: 1px solid rgba(255, 255, 255, 0.1);
  box-shadow: 0 5px 20px rgba(0, 20, 40, 0.3);
}

#clock {
  font-size: 28px;
  font-weight: 600;
  color: white;
  text-shadow: 0 0 15px var(--seafoam);
  font-family: 'Playfair Display', serif;
  background: rgba(0, 0, 0, 0.3);
  padding: 8px 15px;
  border-radius: 10px;
  border: 1px solid rgba(255, 255, 255, 0.1);
}

#greeting {
  font-size: 16px;
  opacity: 0.9;
  margin-top: 5px;
  color: var(--seafoam);
}

.progress-indicator {
  font-size: 24px;
  font-weight: 600;
  color: var(--coral);
  text-shadow: 0 0 15px var(--coral);
  background: rgba(0, 0, 0, 0.3);
  padding: 10px 20px;
  border-radius: 50px;
  border: 1px solid rgba(255, 255, 255, 0.1);
  min-width: 80px;
  text-align: center;
}

/* ================= NAV ICONS ================= */
#nav {
  position: fixed;
  bottom: 30px;
  left: 0;
  width: 100%;
  display: flex;
  justify-content: center;
  gap: 25px;
  z-index: 5;
  padding: 15px;
}

.nav-icon {
  width: 70px;
  height: 70px;
  border-radius: 20px;
  background: var(--glass);
  backdrop-filter: blur(15px);
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 28px;
  cursor: pointer;
  box-shadow: 0 10px 25px rgba(0, 20, 40, 0.4);
  transition: all 0.4s ease;
  position: relative;
  animation: float 5s ease-in-out infinite;
  border: 1px solid rgba(255, 255, 255, 0.15);
  color: white;
}

.nav-icon:nth-child(1) { animation-delay: 0s; color: var(--seafoam); }
.nav-icon:nth-child(2) { animation-delay: 1s; color: var(--sand); }
.nav-icon:nth-child(3) { animation-delay: 2s; color: var(--coral); }
.nav-icon:nth-child(4) { animation-delay: 3s; color: #9d65ff; }

.nav-icon:hover {
  transform: translateY(-10px) scale(1.1);
  background: rgba(255, 255, 255, 0.25);
  box-shadow: 0 15px 35px rgba(127, 219, 218, 0.4);
}

.nav-tooltip {
  position: absolute;
  top: -45px;
  background: var(--dark-glass);
  color: white;
  padding: 8px 15px;
  border-radius: 10px;
  font-size: 14px;
  white-space: nowrap;
  opacity: 0;
  transition: opacity 0.3s;
  pointer-events: none;
  backdrop-filter: blur(10px);
  border: 1px solid rgba(255, 255, 255, 0.1);
}

.nav-icon:hover .nav-tooltip {
  opacity: 1;
}

/* ================= CARDS ================= */
.card {
  max-width: 850px;
  margin: 25px auto;
  padding: 35px;
  border-radius: 25px;
  background: var(--glass);
  backdrop-filter: blur(20px);
  box-shadow: 0 15px 35px rgba(0, 20, 40, 0.3);
  border: 1px solid rgba(255, 255, 255, 0.15);
  animation: slideIn 0.5s ease-out;
  position: relative;
  overflow: hidden;
}

.card::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 5px;
  background: linear-gradient(90deg, var(--seafoam), var(--coral), var(--sand));
}

.card h2 {
  margin-bottom: 30px;
  text-align: center;
  font-family: 'Pacifico', cursive;
  font-size: 36px;
  color: white;
  text-shadow: 0 0 15px rgba(255, 255, 255, 0.5);
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 15px;
}

.card h2 i {
  color: var(--seafoam);
}

/* ================= HEART CHECKBOX ================= */
.task {
  display: flex;
  align-items: center;
  margin: 18px 0;
  padding: 20px;
  background: rgba(255, 255, 255, 0.08);
  border-radius: 18px;
  transition: all 0.3s ease;
  border-left: 6px solid transparent;
  border: 1px solid rgba(255, 255, 255, 0.05);
}

.task:hover {
  background: rgba(255, 255, 255, 0.15);
  transform: translateX(10px);
  box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
}

.task.morning { 
  border-left-color: #FFB74D;
  background: rgba(255, 183, 77, 0.1);
}
.task.afternoon { 
  border-left-color: #4FC3F7;
  background: rgba(79, 195, 247, 0.1);
}
.task.evening { 
  border-left-color: #BA68C8;
  background: rgba(186, 104, 200, 0.1);
}

/* Heart checkbox styling */
.heart-checkbox {
  width: 36px;
  height: 36px;
  margin-right: 20px;
  cursor: pointer;
  position: relative;
  transition: all 0.3s ease;
}

.heart-checkbox::before {
  content: "‚ô°";
  font-size: 36px;
  color: var(--coral);
  position: absolute;
  top: 0;
  left: 0;
  transition: all 0.3s ease;
}

.heart-checkbox.checked::before {
  content: "‚ù§Ô∏è";
  font-size: 36px;
  color: var(--coral);
  animation: heartBeat 0.5s ease;
  text-shadow: 0 0 25px var(--coral);
}

.task-text {
  flex: 1;
  font-size: 20px;
  color: white;
}

.task-time {
  font-weight: 600;
  color: var(--seafoam);
  margin-right: 20px;
  min-width: 130px;
  font-size: 16px;
  background: rgba(0, 0, 0, 0.2);
  padding: 8px 12px;
  border-radius: 10px;
  text-align: center;
}

.coin-session {
  color: var(--sand);
  text-shadow: 0 0 5px var(--sand);
}

/* ================= PROGRESS BAR ================= */
.progress-container {
  margin-top: 40px;
  padding: 20px;
  background: rgba(0, 0, 0, 0.2);
  border-radius: 15px;
}

.progress-label {
  display: flex;
  justify-content: space-between;
  margin-bottom: 15px;
  font-weight: 600;
  font-size: 18px;
  color: white;
}

.progress-bar {
  width: 100%;
  height: 25px;
  border-radius: 12px;
  background: rgba(255, 255, 255, 0.1);
  overflow: hidden;
  position: relative;
  border: 1px solid rgba(255, 255, 255, 0.1);
}

.progress {
  height: 100%;
  width: 0%;
  background: linear-gradient(90deg, var(--seafoam), var(--coral));
  transition: width 1s ease;
  position: relative;
  overflow: hidden;
}

.progress::after {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: linear-gradient(
    90deg,
    transparent,
    rgba(255, 255, 255, 0.4),
    transparent
  );
  animation: shimmer 2s infinite;
}

/* ================= SECTIONS ================= */
.section {
  display: none;
}

/* ================= AFFIRMATION OVERLAY ================= */
#affirmation {
  display: none;
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(10, 36, 99, 0.95);
  z-index: 100;
  justify-content: center;
  align-items: center;
  text-align: center;
  padding: 40px;
  flex-direction: column;
  animation: fadeIn 0.5s ease;
  backdrop-filter: blur(10px);
}

#affirmation::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-image: url("data:image/svg+xml,%3Csvg width='100' height='100' viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M11 18c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm48 25c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm-43-7c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm63 31c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM34 90c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm56-76c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM12 86c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm28-65c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm23-11c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-6 60c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm29 22c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zM32 63c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm57-13c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-9-21c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM60 91c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM35 41c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM12 60c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2z' fill='%237fdbda' fill-opacity='0.1' fill-rule='evenodd'/%3E%3C/svg%3E");
  z-index: -1;
}

#affirmation p {
  font-family: 'Pacifico', cursive;
  font-size: 48px;
  line-height: 1.4;
  color: white;
  text-shadow: 0 0 25px rgba(127, 219, 218, 0.8);
  margin-bottom: 30px;
  max-width: 900px;
  background: rgba(0, 0, 0, 0.3);
  padding: 40px;
  border-radius: 25px;
  border: 2px solid rgba(127, 219, 218, 0.3);
}

.close-btn {
  position: absolute;
  top: 30px;
  right: 30px;
  font-size: 40px;
  color: white;
  cursor: pointer;
  transition: all 0.3s ease;
  width: 60px;
  height: 60px;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 50%;
  background: rgba(255, 107, 107, 0.2);
}

.close-btn:hover {
  color: var(--coral);
  transform: scale(1.2);
  background: rgba(255, 107, 107, 0.4);
}

.completion-text {
  font-size: 28px;
  color: var(--sand);
  margin-top: 20px;
  animation: pulse 2s infinite;
  background: rgba(0, 0, 0, 0.3);
  padding: 15px 30px;
  border-radius: 50px;
}

/* ================= CELEBRATION EFFECTS ================= */
.confetti {
  position: fixed;
  width: 12px;
  height: 12px;
  background: var(--seafoam);
  top: -10px;
  animation: fall linear forwards;
  z-index: 99;
  border-radius: 50%;
}

.confetti:nth-child(odd) {
  background: var(--coral);
}

.confetti:nth-child(3n) {
  background: var(--sand);
}

/* ================= ANIMATIONS ================= */
@keyframes pulse {
  0% { transform: scale(1); }
  50% { transform: scale(1.1); }
  100% { transform: scale(1); }
}

@keyframes float {
  0%, 100% { transform: translateY(0); }
  50% { transform: translateY(-20px); }
}

@keyframes heartBeat {
  0% { transform: scale(1); }
  50% { transform: scale(1.3); }
  100% { transform: scale(1); }
}

@keyframes shimmer {
  0% { transform: translateX(-100%); }
  100% { transform: translateX(100%); }
}

@keyframes fall {
  to {
    transform: translateY(100vh) rotate(360deg);
    opacity: 0;
  }
}

@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}

@keyframes waves {
  0% {
    background-position-x: 0;
  }
  100% {
    background-position-x: 1200px;
  }
}

@keyframes slideIn {
  from {
    opacity: 0;
    transform: translateY(30px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* ================= BUBBLES ANIMATION ================= */
.bubble {
  position: fixed;
  border-radius: 50%;
  background: rgba(255, 255, 255, 0.1);
  z-index: -2;
  animation: rise 15s infinite ease-in;
}

@keyframes rise {
  0% {
    transform: translateY(100vh) scale(0.5);
    opacity: 0;
  }
  10% {
    opacity: 0.5;
  }
  90% {
    opacity: 0.3;
  }
  100% {
    transform: translateY(-100px) scale(1.2);
    opacity: 0;
  }
}

/* ================= RESPONSIVE ================= */
@media (max-width: 768px) {
  .card {
    padding: 25px;
    margin: 15px;
  }
  
  .card h2 {
    font-size: 28px;
  }
  
  .task-text {
    font-size: 18px;
  }
  
  .task-time {
    min-width: 110px;
    font-size: 14px;
  }
  
  #nav {
    gap: 15px;
  }
  
  .nav-icon {
    width: 60px;
    height: 60px;
    font-size: 24px;
    border-radius: 15px;
  }
  
  #affirmation p {
    font-size: 32px;
  }
  
  #heart {
    font-size: 90px;
  }
  
  #heart span {
    font-size: 20px;
  }
  
  #clock {
    font-size: 22px;
  }
}

@media (max-width: 480px) {
  .task {
    flex-direction: column;
    align-items: flex-start;
    gap: 12px;
  }
  
  .task-time {
    min-width: auto;
    width: 100%;
  }
  
  .nav-icon {
    width: 55px;
    height: 55px;
    font-size: 22px;
  }
  
  .card h2 {
    font-size: 24px;
  }
}
</style>
</head>

<body>

<!-- ================= SEA BACKGROUND ================= -->
<div id="ocean-bg"></div>
<div class="sea-waves"></div>
<div class="sea-waves"></div>
<div class="sea-waves"></div>
<div class="overlay"></div>

<!-- ================= LANDING ================= -->
<div id="landing">
  <div id="heart">
    üåä
    <span>Dive into your studies</span>
  </div>
  <p class="subtitle">Navigate your academic journey with the rhythm of the sea üåä</p>
</div>

<!-- ================= DASHBOARD ================= -->
<div id="dashboard">

  <!-- Header -->
  <div class="header">
    <div>
      <div id="clock">00:00</div>
      <div id="greeting">Good morning!</div>
    </div>
    <div class="progress-indicator" id="progress-indicator">0%</div>
  </div>

  <!-- Today's Tasks -->
  <div id="today-section" class="section">
    <div class="card">
      <h2><i class="fas fa-anchor"></i> Today's Tasks</h2>
      <div id="taskList"></div>
      <div class="progress-container">
        <div class="progress-label">
          <span>Daily Progress</span>
          <span id="progress-text">0%</span>
        </div>
        <div class="progress-bar">
          <div class="progress" id="progress"></div>
        </div>
      </div>
    </div>
  </div>

  <!-- Weekly Timetable -->
  <div id="weekly-section" class="section">
    <div class="card">
      <h2><i class="fas fa-tides"></i> Weekly Timetable</h2>
      <div id="weeklyTimetable"></div>
    </div>
  </div>

  <!-- Progress -->
  <div id="progress-section" class="section">
    <div class="card">
      <h2><i class="fas fa-chart-line"></i> Your Progress</h2>
      <div id="progressDetails">
        <div style="text-align: center; margin: 30px 0;">
          <div style="font-size: 52px; color: var(--seafoam); margin-bottom: 10px; text-shadow: 0 0 15px rgba(127, 219, 218, 0.5);" id="score">0%</div>
          <div style="font-size: 20px; color: white;">Daily Completion</div>
        </div>
        <div style="text-align: center; margin-top: 30px; padding: 20px; background: rgba(0,0,0,0.2); border-radius: 15px;">
          <div style="font-size: 24px;">Current Streak: <span id="streak" style="color: var(--coral);">0</span> days üî•</div>
          <div style="margin-top: 10px; font-size: 16px; opacity: 0.8;">Keep riding the wave of consistency!</div>
        </div>
      </div>
    </div>
  </div>

  <!-- Quotes -->
  <div id="quotes-section" class="section">
    <div class="card">
      <h2><i class="fas fa-quote-left"></i> Oceanic Inspiration</h2>
      <div id="quotesList"></div>
    </div>
  </div>

</div>

<!-- ================= NAV ================= -->
<div id="nav">
  <div class="nav-icon" onclick="showSection('today-section')" data-tooltip="Today's Tasks">
    <i class="fas fa-tasks"></i>
    <div class="nav-tooltip">Today's Tasks</div>
  </div>
  <div class="nav-icon" onclick="showSection('weekly-section')" data-tooltip="Weekly Timetable">
    <i class="fas fa-calendar-alt"></i>
    <div class="nav-tooltip">Weekly Timetable</div>
  </div>
  <div class="nav-icon" onclick="showSection('progress-section')" data-tooltip="Your Progress">
    <i class="fas fa-chart-line"></i>
    <div class="nav-tooltip">Your Progress</div>
  </div>
  <div class="nav-icon" onclick="showSection('quotes-section')" data-tooltip="Oceanic Inspiration">
    <i class="fas fa-water"></i>
    <div class="nav-tooltip">Oceanic Inspiration</div>
  </div>
</div>

<!-- ================= AFFIRMATION ================= -->
<div id="affirmation">
  <div class="close-btn" onclick="closeAffirmation()">√ó</div>
  <p id="affirmation-text">The ocean of tomorrow awaits your courage today üåä</p>
  <div class="completion-text">100% Completed! üéâ</div>
</div>

<script>
// ================= CUSTOM SEA BACKGROUND SYSTEM =================
// Using the specific images you provided
const customSeaBackgrounds = {
  morning: [
    "https://media.istockphoto.com/id/487963983/photo/sunrise-over-beach-in-cancun.jpg?s=612x612&w=0&k=20&c=y1MXfrL7G4q2om1GMuesWlxT2Su30KfLu3BofUZDzn0="
  ],
  afternoon: [
    "https://media.istockphoto.com/id/1320806707/photo/afternoon-at-playa-norte-in-isla-mujeres-mexico.jpg?s=612x612&w=0&k=20&c=DU5x5GwcUJvfGCzVRq1Qhg0TTt5Op0MD1hcYC_uKhKk="
  ],
  evening: [
    "https://thumbs.dreamstime.com/b/beautiful-view-evening-romantic-ocean-sea-beach-sunset-sun-reflected-surface-water-light-clouds-wet-388688648.jpg"
  ],
  night: [
    "https://thumbs.dreamstime.com/b/dreamy-blue-moon-over-serene-water-floating-hearts-night-captivating-illuminates-tranquil-surface-surrounded-soft-354885764.jpg"
  ]
};

// CSS Sea Gradients as fallback
const seaGradients = {
  morning: "linear-gradient(135deg, #87CEEB 0%, #E0F7FF 50%, #B3E5FC 100%)",
  afternoon: "linear-gradient(135deg, #4D96FF 0%, #6BC5FF 50%, #36D1DC 100%)",
  evening: "linear-gradient(135deg, #6A5ACD 0%, #9370DB 50%, #BA55D3 100%)",
  night: "linear-gradient(135deg, #0A2463 0%, #1E3A8A 50%, #3B82F6 100%)"
};

// Create bubbles animation
function createBubbles() {
  const bubblesContainer = document.createElement('div');
  bubblesContainer.id = 'bubbles-container';
  bubblesContainer.style.position = 'fixed';
  bubblesContainer.style.top = '0';
  bubblesContainer.style.left = '0';
  bubblesContainer.style.width = '100%';
  bubblesContainer.style.height = '100%';
  bubblesContainer.style.pointerEvents = 'none';
  bubblesContainer.style.zIndex = '-2';
  document.body.appendChild(bubblesContainer);
  
  for (let i = 0; i < 20; i++) {
    const bubble = document.createElement('div');
    bubble.className = 'bubble';
    const size = Math.random() * 40 + 10;
    bubble.style.width = `${size}px`;
    bubble.style.height = `${size}px`;
    bubble.style.left = `${Math.random() * 100}%`;
    bubble.style.animationDelay = `${Math.random() * 15}s`;
    bubble.style.animationDuration = `${Math.random() * 10 + 15}s`;
    bubble.style.opacity = Math.random() * 0.3 + 0.1;
    bubblesContainer.appendChild(bubble);
  }
}

function setCustomSeaBackground() {
  const hour = new Date().getHours();
  let period = "night";
  
  // Determine time period
  if (hour >= 5 && hour < 11) period = "morning";
  else if (hour >= 11 && hour < 16) period = "afternoon";
  else if (hour >= 16 && hour < 19) period = "evening";
  
  const oceanBg = document.getElementById("ocean-bg");
  
  // Use the custom background image for the period
  const customImage = customSeaBackgrounds[period][0];
  
  console.log(`Setting ${period} background: ${customImage}`);
  
  // Create test image to check if it loads
  const testImg = new Image();
  testImg.crossOrigin = "anonymous";
  
  testImg.onload = function() {
    // SUCCESS: Custom image loaded
    console.log(`‚úì Custom ${period} background loaded successfully`);
    oceanBg.style.backgroundImage = `url('${customImage}')`;
    oceanBg.style.opacity = "1";
    
    // Update console status
    updateBackgroundStatus(`Custom ${period} beach background loaded`);
  };
  
  testImg.onerror = function() {
    console.log(`‚úó Custom ${period} background failed to load, using gradient`);
    
    // Use gradient fallback
    oceanBg.style.backgroundImage = "none";
    oceanBg.style.background = seaGradients[period];
    oceanBg.style.opacity = "1";
    
    updateBackgroundStatus(`Gradient fallback for ${period}`);
  };
  
  // Start loading the image with cache busting
  testImg.src = customImage + (customImage.includes('?') ? '&' : '?') + 't=' + new Date().getTime();
  
  // Update greeting with sea-themed messages
  const greeting = document.getElementById("greeting");
  if (period === "morning") greeting.textContent = "Good Morning! Sunrise on the beach! üåÖ";
  else if (period === "afternoon") greeting.textContent = "Good Afternoon! Bright beach day! ‚òÄÔ∏è";
  else if (period === "evening") greeting.textContent = "Good Evening! Sunset by the sea! üåá";
  else greeting.textContent = "Good Night! Moonlit ocean! üåô";
  
  // Update colors based on time of day
  updateThemeColors(period);
}

function updateThemeColors(period) {
  const root = document.documentElement;
  
  switch(period) {
    case "morning":
      root.style.setProperty('--glass', 'rgba(255, 255, 255, 0.2)');
      root.style.setProperty('--dark-glass', 'rgba(135, 206, 235, 0.7)');
      break;
    case "afternoon":
      root.style.setProperty('--glass', 'rgba(255, 255, 255, 0.15)');
      root.style.setProperty('--dark-glass', 'rgba(77, 150, 255, 0.7)');
      break;
    case "evening":
      root.style.setProperty('--glass', 'rgba(255, 255, 255, 0.1)');
      root.style.setProperty('--dark-glass', 'rgba(106, 90, 205, 0.7)');
      break;
    case "night":
      root.style.setProperty('--glass', 'rgba(255, 255, 255, 0.08)');
      root.style.setProperty('--dark-glass', 'rgba(10, 36, 99, 0.8)');
      break;
  }
}

function updateBackgroundStatus(message) {
  console.log(`Beach Background: ${message}`);
}

// ================= CLOCK =================
function updateClock() {
  const now = new Date();
  const timeStr = now.toLocaleTimeString([], { 
    hour: '2-digit', 
    minute: '2-digit',
    hour12: true 
  });
  document.getElementById("clock").textContent = timeStr;
}

// ================= DATA =================
const weeklySchedule = {
  Monday: [
    { time: "5:00 - 7:00 AM", task: "Math Practice", session: "morning" },
    { time: "1:00 - 2:00 PM", task: "Coding Session ‚≠ê", session: "afternoon" },
    { time: "6:00 - 9:00 PM", task: "VLSI", session: "evening" }
  ],
  Tuesday: [
    { time: "5:00 - 7:00 AM", task: "ECO1", session: "morning" },
    { time: "1:00 - 2:00 PM", task: "Coding Session ‚≠ê", session: "afternoon" },
    { time: "6:00 - 9:00 PM", task: "VLSI", session: "evening" }
  ],
  Wednesday: [
    { time: "5:00 - 7:00 AM", task: "ECO2", session: "morning" },
    { time: "1:00 - 2:00 PM", task: "Coding Session ‚≠ê", session: "afternoon" },
    { time: "6:00 - 9:00 PM", task: "LINEAR", session: "evening" }
  ],
  Thursday: [
    { time: "5:00 - 7:00 AM", task: "Math Practice", session: "morning" },
    { time: "1:00 - 2:00 PM", task: "Coding Session ‚≠ê", session: "afternoon" },
    { time: "6:00 - 9:00 PM", task: "MICROWAVE", session: "evening" }
  ],
  Friday: [
    { time: "5:00 - 7:00 AM", task: "ECO1", session: "morning" },
    { time: "1:00 - 2:00 PM", task: "Coding Session ‚≠ê", session: "afternoon" },
    { time: "6:00 - 9:00 PM", task: "MICROWAVE", session: "evening" }
  ],
  Saturday: [
    { time: "5:00 - 7:00 AM", task: "ECO2", session: "morning" },
    { time: "1:00 - 2:00 PM", task: "weekday Review", session: "afternoon" },
    { time: "6:00 - 9:00 PM", task: "LINEAR", session: "evening" }
  ],
  Sunday: [
    { time: "5:00 - 7:00 AM", task: "PE1", session: "morning" },
    { time: "1:00 - 3:00 PM", task: "PE2", session: "afternoon" },
    { time: "6:00 - 9:00 PM", task: "NTG", session: "evening" }
  ]
};

const quotes = [
  "The ocean of tomorrow awaits your courage today üåä",
  "Small waves still move the shore üíñ",
  "You are deeper than your doubts ‚ú®",
  "Consistency is the tide that changes everything",
  "Every drop of effort fills your ocean of success",
  "Sail through challenges like a ship through storms",
  "Your potential is as vast as the sea",
  "Ride the waves of knowledge to new horizons",
  "Calm seas never made a skilled sailor",
  "The mightiest ocean is made of single drops",
  "Navigate your journey with purpose and grace",
  "In the depth of struggle, you find your true strength"
];

// ================= INITIALIZATION =================
const currentDay = new Date().toLocaleDateString('en-US', { weekday: 'long' });
let completedTasks = JSON.parse(localStorage.getItem('completedTasks')) || {};
let streak = parseInt(localStorage.getItem('streak')) || 0;

// ================= LANDING CLICK =================
document.getElementById("heart").onclick = () => {
  document.getElementById("landing").style.display = "none";
  document.getElementById("dashboard").style.display = "block";
  showSection('today-section');
  initializeApp();
};

// ================= INITIALIZE APP =================
function initializeApp() {
  // Create bubbles animation
  createBubbles();
  
  // Set initial custom sea background
  setCustomSeaBackground();
  
  // Start clock
  updateClock();
  setInterval(updateClock, 1000);
  
  // Update background every 30 minutes
  setInterval(setCustomSeaBackground, 1800000);
  
  // Check for daily reset
  checkDailyReset();
  
  // Load today's tasks
  loadTodayTasks();
  
  // Load weekly timetable
  loadWeeklyTimetable();
  
  // Load quotes
  loadQuotes();
  
  // Update progress
  updateProgress();
  
  // Update streak display
  document.getElementById('streak').textContent = streak;
  
  // Check if already completed today
  if (localStorage.getItem('todayCompleted') === 'true') {
    showAffirmation();
  }
}

// ================= LOAD TODAY'S TASKS =================
function loadTodayTasks() {
  const taskList = document.getElementById("taskList");
  const todaySchedule = weeklySchedule[currentDay];
  
  taskList.innerHTML = '';
  
  todaySchedule.forEach((item, index) => {
    const isCompleted = completedTasks[currentDay]?.includes(index) || false;
    
    const taskDiv = document.createElement('div');
    taskDiv.className = `task ${item.session}`;
    taskDiv.innerHTML = `
      <div class="heart-checkbox ${isCompleted ? 'checked' : ''}" 
           onclick="toggleTask(${index})"></div>
      <div class="task-time">${item.time}</div>
      <div class="task-text ${item.task.includes('Coin') ? 'coin-session' : ''}">
        ${item.task}
      </div>
    `;
    
    taskList.appendChild(taskDiv);
  });
}

// ================= TOGGLE TASK =================
function toggleTask(index) {
  if (!completedTasks[currentDay]) {
    completedTasks[currentDay] = [];
  }
  
  const taskIndex = completedTasks[currentDay].indexOf(index);
  if (taskIndex > -1) {
    completedTasks[currentDay].splice(taskIndex, 1);
  } else {
    completedTasks[currentDay].push(index);
  }
  
  localStorage.setItem('completedTasks', JSON.stringify(completedTasks));
  
  // Reload tasks to update checkboxes
  loadTodayTasks();
  
  // Update progress
  updateProgress();
  
  // Check if all tasks completed
  const todaySchedule = weeklySchedule[currentDay];
  const completedCount = completedTasks[currentDay]?.length || 0;
  
  if (completedCount === todaySchedule.length) {
    celebrateCompletion();
    updateStreak();
  }
}

// ================= UPDATE PROGRESS =================
function updateProgress() {
  const todaySchedule = weeklySchedule[currentDay];
  const completedCount = completedTasks[currentDay]?.length || 0;
  const totalTasks = todaySchedule.length;
  const percentage = Math.round((completedCount / totalTasks) * 100);
  
  // Update progress bar
  const progressBar = document.getElementById("progress");
  progressBar.style.width = `${percentage}%`;
  
  // Update progress text
  document.getElementById("progress-text").textContent = `${percentage}%`;
  document.getElementById("progress-indicator").textContent = `${percentage}%`;
  document.getElementById("score").textContent = `${percentage}%`;
  
  // Update progress indicator color
  const indicator = document.getElementById("progress-indicator");
  if (percentage === 100) {
    indicator.style.color = "#4CAF50";
    indicator.style.textShadow = "0 0 15px #4CAF50";
  } else if (percentage >= 50) {
    indicator.style.color = "#FF9800";
    indicator.style.textShadow = "0 0 15px #FF9800";
  } else {
    indicator.style.color = "var(--coral)";
    indicator.style.textShadow = "0 0 15px var(--coral)";
  }
}

// ================= LOAD WEEKLY TIMETABLE =================
function loadWeeklyTimetable() {
  const weeklyTimetable = document.getElementById("weeklyTimetable");
  weeklyTimetable.innerHTML = '';
  
  for (const day in weeklySchedule) {
    const dayCard = document.createElement('div');
    dayCard.style.cssText = `
      background: ${day === currentDay ? 'rgba(127, 219, 218, 0.2)' : 'rgba(255, 255, 255, 0.05)'};
      padding: 20px;
      border-radius: 15px;
      margin-bottom: 15px;
      border-left: 6px solid ${day === currentDay ? 'var(--seafoam)' : 'transparent'};
      border: 1px solid rgba(255, 255, 255, 0.05);
    `;
    
    let dayHTML = `<h3 style="margin: 0 0 15px 0; color: ${day === currentDay ? 'var(--seafoam)' : 'white'}; font-size: 22px;">${day} ${day === currentDay ? 'üåä' : ''}</h3>`;
    
    weeklySchedule[day].forEach(item => {
      dayHTML += `
        <div style="margin: 10px 0; padding-left: 15px; border-left: 4px solid ${getSessionColor(item.session)}; background: rgba(0,0,0,0.1); padding: 10px; border-radius: 8px;">
          <div style="font-weight: 600; color: ${getSessionColor(item.session)};">${item.time}</div>
          <div style="margin-top: 5px;">${item.task}</div>
        </div>
      `;
    });
    
    dayCard.innerHTML = dayHTML;
    weeklyTimetable.appendChild(dayCard);
  }
}

function getSessionColor(session) {
  switch(session) {
    case 'morning': return '#FFB74D';
    case 'afternoon': return '#4FC3F7';
    case 'evening': return '#BA68C8';
    default: return 'white';
  }
}

// ================= LOAD QUOTES =================
function loadQuotes() {
  const quotesList = document.getElementById("quotesList");
  quotesList.innerHTML = '';
  
  // Shuffle quotes
  const shuffledQuotes = [...quotes].sort(() => 0.5 - Math.random());
  
  shuffledQuotes.slice(0, 4).forEach((quote, index) => {
    const quoteDiv = document.createElement('div');
    quoteDiv.style.cssText = `
      background: rgba(255, 255, 255, 0.08);
      padding: 25px;
      border-radius: 15px;
      margin-bottom: 20px;
      font-style: italic;
      font-size: 20px;
      border-left: 5px solid var(--seafoam);
      border: 1px solid rgba(255, 255, 255, 0.05);
      position: relative;
    `;
    
    // Add a small sea icon
    const seaIcons = ["üåä", "üêö", "‚ú®", "üíé"];
    quoteDiv.innerHTML = `
      <div style="position: absolute; top: 15px; right: 15px; font-size: 24px; opacity: 0.5;">${seaIcons[index]}</div>
      "${quote}"
    `;
    quotesList.appendChild(quoteDiv);
  });
}

// ================= CELEBRATION =================
function celebrateCompletion() {
  // Mark today as completed
  localStorage.setItem('todayCompleted', 'true');
  
  // Select random sea-themed quote
  const seaQuotes = [
    "You've navigated today's waters perfectly! üåä",
    "Smooth sailing all day long! ‚õµ",
    "Another day conquered, captain! üè¥‚Äç‚ò†Ô∏è",
    "You rode the waves of productivity today! üåÖ",
    "The sea rewards the persistent sailor! üíé"
  ];
  const randomQuote = seaQuotes[Math.floor(Math.random() * seaQuotes.length)];
  document.getElementById('affirmation-text').textContent = randomQuote;
  
  // Show affirmation
  showAffirmation();
  
  // Create confetti
  createConfetti();
}

function createConfetti() {
  const colors = ['#7FDBDA', '#FF6B6B', '#F4D35E', '#9d65ff'];
  
  for (let i = 0; i < 120; i++) {
    const confetti = document.createElement('div');
    confetti.className = 'confetti';
    confetti.style.left = Math.random() * 100 + '%';
    confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
    confetti.style.width = Math.random() * 12 + 5 + 'px';
    confetti.style.height = confetti.style.width;
    confetti.style.animationDuration = Math.random() * 3 + 2 + 's';
    confetti.style.animationDelay = Math.random() * 1 + 's';
    
    // Random shape
    if (Math.random() > 0.5) {
      confetti.style.borderRadius = '50%';
    } else {
      confetti.style.borderRadius = '0';
    }
    
    document.body.appendChild(confetti);
    
    setTimeout(() => {
      if (confetti.parentNode) {
        confetti.remove();
      }
    }, 5000);
  }
}

// ================= SHOW/HIDE AFFIRMATION =================
function showAffirmation() {
  document.getElementById('affirmation').style.display = 'flex';
}

function closeAffirmation() {
  document.getElementById('affirmation').style.display = 'none';
}

// ================= UPDATE STREAK =================
function updateStreak() {
  const today = new Date().toDateString();
  const lastCompletedDate = localStorage.getItem('lastCompletedDate');
  
  if (lastCompletedDate === today) {
    return; // Already updated today
  }
  
  const yesterday = new Date();
  yesterday.setDate(yesterday.getDate() - 1);
  const yesterdayStr = yesterday.toDateString();
  
  if (lastCompletedDate === yesterdayStr) {
    streak++;
  } else {
    streak = 1;
  }
  
  localStorage.setItem('streak', streak);
  localStorage.setItem('lastCompletedDate', today);
  
  document.getElementById('streak').textContent = streak;
}

// ================= CHECK DAILY RESET =================
function checkDailyReset() {
  const today = new Date().toDateString();
  const lastResetDate = localStorage.getItem('lastResetDate');
  
  if (lastResetDate !== today) {
    // Reset today's completion flag
    localStorage.removeItem('todayCompleted');
    localStorage.setItem('lastResetDate', today);
    
    // Don't clear completed tasks - keep history
  }
}

// ================= SHOW SECTION =================
function showSection(sectionId) {
  // Hide all sections
  document.querySelectorAll('.section').forEach(section => {
    section.style.display = 'none';
  });
  
  // Show selected section
  document.getElementById(sectionId).style.display = 'block';
}

// SET CUSTOM SEA BACKGROUND IMMEDIATELY WHEN PAGE LOADS
window.addEventListener('load', function() {
  console.log("Page loaded - setting custom beach backgrounds...");
  setCustomSeaBackground();
  
  // Set a backup timer in case first load fails
  setTimeout(function() {
    const oceanBg = document.getElementById("ocean-bg");
    // Check if background is still default gradient
    if (!oceanBg.style.backgroundImage || oceanBg.style.backgroundImage === 'none' || oceanBg.style.backgroundImage === 'url("")') {
      console.log("Custom beach background not loaded after 3 seconds, using gradient");
      const hour = new Date().getHours();
      let period = "night";
      if (hour >= 5 && hour < 11) period = "morning";
      else if (hour >= 11 && hour < 16) period = "afternoon";
      else if (hour >= 16 && hour < 19) period = "evening";
      
      oceanBg.style.backgroundImage = "none";
      oceanBg.style.background = seaGradients[period];
      oceanBg.style.opacity = "1";
    }
  }, 3000);
});

// Add a background refresh button for testing
const refreshBgBtn = document.createElement('button');
refreshBgBtn.innerHTML = 'üîÑ Refresh Background';
refreshBgBtn.style.cssText = `
  position: fixed;
  bottom: 120px;
  right: 20px;
  z-index: 1000;
  background: var(--dark-glass);
  color: white;
  border: none;
  padding: 12px 20px;
  border-radius: 25px;
  cursor: pointer;
  font-family: 'Quicksand', sans-serif;
  font-weight: 600;
  backdrop-filter: blur(10px);
  border: 1px solid rgba(255, 255, 255, 0.1);
  box-shadow: 0 5px 15px rgba(0,0,0,0.2);
  font-size: 14px;
  display: none; /* Hidden by default */
`;
refreshBgBtn.onclick = function() {
  console.log("Manually refreshing background...");
  setCustomSeaBackground();
  alert("Beach background refreshed!");
};
document.body.appendChild(refreshBgBtn);

// To show the refresh button, uncomment this line:
// refreshBgBtn.style.display = 'block';
</script>

</body>
</html>
